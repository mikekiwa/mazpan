<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:flexlib="http://code.google.com/p/flexlib/" 
	xmlns="componentes.*" width="120" height="400" xmlns:Acordeon="componentes.Acordeon.*">
	
	<mx:Metadata>
			[Event(name="complexClick",type="eventos.ComplexEvent")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[
			import mx.controls.Menu;
			import mx.automation.events.MenuShowEvent;
			import mx.controls.Alert;
			import eventos.ComplexEvent;
			
			private function reDireccionar(event:ComplexEvent):void
			{
				dispatchEvent(new ComplexEvent(ComplexEvent.COMPLEX_CLICK,event.stateDestination,event.stateOrigin, event.objeto));
			}
			
			public function cargar(privilegio:String):void
			{
				accordion.removeAllChildren();
				var niveles:Array = privilegio.split('');

				if(niveles[0]=='1')
				{
					var menuEstadoResultado:MenuEstadoResultado = new MenuEstadoResultado();
					menuEstadoResultado.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuEstadoResultado);
				}
				if(niveles[1]=='1')
				{
					var menuAmarre:MenuAmarre = new MenuAmarre();
					menuAmarre.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuAmarre);
				}
				if(niveles[2]=='1')
				{
					var menuGeneral:MenuGerenal = new MenuGerenal();
					menuGeneral.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuGeneral);
				}
				if(niveles[3]=='1')
				{
					var menuAgentesExternos:MenuAgentesExternos = new MenuAgentesExternos();
					menuAgentesExternos.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuAgentesExternos);
				}
				if(niveles[4]=='1')
				{
					var menuPersonal:MenuPersonal = new MenuPersonal();
					menuPersonal.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuPersonal);
				}
				if(niveles[5]=='1')
				{
					var menuMantencion:MenuMantenciones = new MenuMantenciones();
					menuMantencion.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuMantencion);
				}
				if(niveles[6]=='1')
				{
					var menuPlan:MenuPlanMantencion = new MenuPlanMantencion();
					menuPlan.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuPlan);
				}
				if(niveles[7]=='1')
				{
					var menuVentas:MenuVentas = new MenuVentas();
					menuVentas.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuVentas);
				}
				if(niveles[8]=='1')
				{
					var menuLocales:MenuLocales = new MenuLocales();
					menuLocales.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuLocales);
				}
				
				
				
				if(niveles[10]=='1')
				{
					var menuSistema:MenuSistema = new MenuSistema();
					menuSistema.addEventListener(ComplexEvent.COMPLEX_CLICK, reDireccionar);
					accordion.addChild(menuSistema);
				}
			}
		]]>
	</mx:Script>

	<mx:HBox  id="hbox1" width="100%" height="100%">
		<flexlib:VAccordion id="accordion" headerLocation="below" resizeToContent="false" headerRenderer="componentes.Acordeon.Header"  width="100%" height="100%" />
	</mx:HBox>
</mx:Canvas>
